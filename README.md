## ATC Training Radar (PWA)

開発用メモ

### 実行方法
1) 依存導入（初回のみ）
```
npm install
```
2) 開発サーバ
```
npm run dev
```
3) ビルド
```
npm run build
```

### 機能
- 固定表示レーダー（スイープなし）、10NMリング、20/50 NM切替
- **モード切替**: 「生成・指示」モードと「計測」モードを切り替え可能
- タップした任意地点から航空機をスポーン（コールサインは指定リストからランダム生成）
- 4秒ごとに全機を更新（針路+速度、速度34→340kt）※ヘディングはリードターン対応（指示後1秒遅延・3°/s）
- 進行方向に2NMのヘディングライン表示、航空機ラベルは「コールサイン」「HDG ddd」
- 高度指示は100ft単位（H）で段階変化（1H/ティック）、操作履歴を保持
- **計測機能**: 任意の2点間の距離（NM）と方位（度）を計測可能。計測線は手を離した後も表示され、「計測クリア」ボタンで消去
- PWA: `manifest.webmanifest` と簡易 `sw.js`

### 使い方
1. `npm run dev` でブラウザを開き、レーダー上の空白をタップして機体をスポーン  
   - コールサインは例: `ANA123`、`KLM456` のように自動付与されます  
   - スポーン直後の機体が選択状態になります
2. 右パネルで `Heading`（0–359°）や `Altitude`（H単位）を入力して「指示」ボタンを押す  
   - ヘディングは指示後1秒で旋回開始、3°/秒で最短角度へ追従します  
   - ラベルの `HDG ddd` は指示中の値を表示（000は360として表示）
3. 操作履歴パネルで指示履歴を確認できます
4. **計測機能の使い方**:
   - トップバーの「計測」ボタンをタップして計測モードに切り替え
   - レーダー画面の任意の点をタップ/ドラッグ開始
   - ドラッグを離すと計測線が表示され、距離（NM）と方位（度）が表示されます
   - 「計測クリア」ボタンで計測線を消去
   - 「生成・指示」ボタンで通常モードに戻ります
5. 必要に応じてトップバーから 20NM / 50NM レンジ切替および `リセット` を利用してください  
   - `リセット` は機体・履歴の全消去とレンジ20NMへの戻しを行います

### 仕様参照
- `docs/coordinate-system.md`


