## ATC Training Radar

開発用メモ

### 実行方法
1) 依存導入（初回のみ）
```
npm install
```
2) 開発サーバ
```
npm run dev
```
3) ビルド
```
npm run build
```

### 機能
- 固定表示レーダー（スイープなし）、10NMリング、20/50 NM切替
- **モード切替**: 生成 / 指示 / 計測 の3モードを独立したボタンで切替
- 生成モードではレーダー上の任意地点をクリックして航空機をスポーン（コールサインは指定リストからランダム生成）
- 指示モードでは機体クリックで選択、右パネルからヘディング指示（0–359°）を送出
- 4秒ごとに全機を更新（針路・速度・高度）。ヘディングはリードターン対応（指示後1秒遅延・3°/s）
- 進行方向に2NMのヘディングライン表示、航空機ラベルは「コールサイン」「HDG ddd」
- **再生速度**: 0.5x / 1.0x / 2.0x / 5.0x のシミュレーション速度ボタンを搭載
- **計測機能**: 任意の2点間の距離（NM）と方位（度）を計測可能。計測線は手を離した後も表示され、「計測クリア」ボタンで消去
- 操作履歴を保持
- PWA: `manifest.webmanifest` と簡易 `sw.js`

### 使い方
1. `npm run dev` でブラウザを開く。
2. トップバー左側で `生成` モードを選び、レーダー上の空白をクリックして機体をスポーン。  
   - コールサインは例: `ANA123`、`KLM456` のように自動付与され、スポーン直後は自動で選択状態になります。
3. ヘディング指示を行う際はトップバーの `指示` モードに切り替え、対象機をクリックしてから右パネルで `Heading (0–359)` を入力し「指示」ボタンを押します。  
   - ヘディングは指示後1秒で旋回開始、3°/秒で最短角度へ追従します。  
   - ラベルの `HDG ddd` は指示値を表示します（000は360として表示）。
4. 操作履歴パネルに最新200件までの指示/スポーンログが表示されます。
5. **計測機能**: トップバーの `計測` モードに切り替え、レーダー上でドラッグして距離/方位を表示。`計測クリア` ボタンで測線を消去、`指示` など別モードに戻すと計測はリセットされます。
6. トップバー右側で 20NM / 50NM のレンジ切替、`リセット`、および 0.5x〜5x の速度ボタンを使用してシナリオを調整できます。  
   - `リセット` は機体・履歴の全消去とレンジ20NMへの戻しを行います。



